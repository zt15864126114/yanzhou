import{_ as D,r as p,g as y,c as I,a as e,w as s,b as a,d as v,p as U,e as k,o as B,f as N,t as z}from"./index-CXbMACjM.js";const A=r=>(U("data-v-54f28451"),r=r(),k(),r),C={class:"page-container"},L=A(()=>v("div",{class:"page-title"},"操作日志",-1)),M={class:"mb-2 flex-row"},E={class:"mt-2 flex-row-end"},_=8,P={__name:"AuditLog",setup(r){const f=p([{time:"2024-05-10 09:00",user:"admin",type:"登录",content:"管理员登录系统",result:"成功"},{time:"2024-05-10 09:05",user:"admin",type:"配置",content:"修改平台名称",result:"成功"},{time:"2024-05-10 09:10",user:"admin",type:"运维",content:"执行主机健康检查",result:"成功"},{time:"2024-05-10 09:15",user:"admin",type:"备份",content:"启动每日备份",result:"成功"},{time:"2024-05-10 09:20",user:"admin",type:"配置",content:"修改管理员邮箱",result:"失败"},{time:"2024-05-10 09:25",user:"admin",type:"租户",content:"编辑租户信息",result:"成功"},{time:"2024-05-10 09:30",user:"admin",type:"运维",content:"执行存储空间清理",result:"成功"},{time:"2024-05-10 09:35",user:"admin",type:"运维",content:"执行系统安全扫描",result:"失败"},{time:"2024-05-10 09:40",user:"admin",type:"日志",content:"导出操作日志",result:"成功"},{time:"2024-05-10 09:45",user:"admin",type:"配置",content:"修改备份时间",result:"成功"},{time:"2024-05-10 09:50",user:"admin",type:"运维",content:"执行网络连通性检测",result:"成功"},{time:"2024-05-10 09:55",user:"admin",type:"备份",content:"启动月末全量备份",result:"成功"},{time:"2024-05-10 10:00",user:"admin",type:"租户",content:"编辑租户信息",result:"成功"}]),u=p(""),c=p(""),i=p(1),g=y(()=>f.value.filter(n=>{const t=!u.value||n.user.includes(u.value),d=!c.value||n.result===c.value;return t&&d})),b=y(()=>{const n=(i.value-1)*_;return g.value.slice(n,n+_)});return(n,t)=>{const d=a("el-input"),m=a("el-option"),h=a("el-select"),o=a("el-table-column"),w=a("el-tag"),x=a("el-table"),V=a("el-pagination"),S=a("el-card");return B(),I("div",C,[L,e(S,null,{default:s(()=>[v("div",M,[e(d,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),placeholder:"按用户筛选",clearable:"",style:{width:"180px","margin-right":"12px"}},null,8,["modelValue"]),e(h,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=l=>c.value=l),placeholder:"按结果筛选",clearable:"",style:{width:"140px"}},{default:s(()=>[e(m,{label:"全部",value:""}),e(m,{label:"成功",value:"成功"}),e(m,{label:"失败",value:"失败"})]),_:1},8,["modelValue"])]),e(x,{data:b.value,style:{width:"100%"}},{default:s(()=>[e(o,{prop:"time",label:"操作时间",width:"170"}),e(o,{prop:"user",label:"用户",width:"100"}),e(o,{prop:"type",label:"类型",width:"100"}),e(o,{prop:"content",label:"内容"}),e(o,{prop:"result",label:"结果",width:"100"},{default:s(l=>[e(w,{type:l.row.result==="成功"?"success":"danger"},{default:s(()=>[N(z(l.row.result),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"]),v("div",E,[e(V,{background:"",layout:"prev, pager, next",total:g.value.length,"page-size":_,"current-page":i.value,"onUpdate:currentPage":t[2]||(t[2]=l=>i.value=l)},null,8,["total","current-page"])])]),_:1})])}}},T=D(P,[["__scopeId","data-v-54f28451"]]);export{T as default};
