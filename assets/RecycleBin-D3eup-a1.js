import{_ as z,r as _,g as b,c as I,a as e,w as o,b as l,d as v,p as S,e as D,o as E,f as g,E as y}from"./index-CXbMACjM.js";const N=r=>(S("data-v-1205e217"),r=r(),D(),r),O={class:"page-container"},R=N(()=>v("div",{class:"page-title"},"资源回收站",-1)),T={class:"mb-2 flex-row"},U={class:"mt-2 flex-row-end"},c=6,M={__name:"RecycleBin",setup(r){const s=_([{name:"host-01",type:"主机",deletedAt:"2024-05-10 08:00",operator:"admin"},{name:"vm-03",type:"虚拟机",deletedAt:"2024-05-10 08:10",operator:"admin"},{name:"volume-01",type:"存储卷",deletedAt:"2024-05-10 08:20",operator:"admin"},{name:"host-02",type:"主机",deletedAt:"2024-05-10 08:30",operator:"admin"},{name:"vm-05",type:"虚拟机",deletedAt:"2024-05-10 08:40",operator:"admin"},{name:"volume-02",type:"存储卷",deletedAt:"2024-05-10 08:50",operator:"admin"},{name:"host-03",type:"主机",deletedAt:"2024-05-10 09:00",operator:"admin"},{name:"vm-07",type:"虚拟机",deletedAt:"2024-05-10 09:10",operator:"admin"}]),i=_(""),d=_(1),u=b(()=>s.value.filter(a=>!i.value||a.type===i.value)),h=b(()=>{const a=(d.value-1)*c;return u.value.slice(a,a+c)});function x(a){const t=u.value[a];y.success(`资源 ${t.name} 已恢复`),s.value.splice(s.value.indexOf(t),1)}function w(a){const t=u.value[a];y.success(`资源 ${t.name} 已彻底删除`),s.value.splice(s.value.indexOf(t),1)}return(a,t)=>{const m=l("el-option"),A=l("el-select"),p=l("el-table-column"),f=l("el-button"),k=l("el-space"),C=l("el-table"),V=l("el-pagination"),$=l("el-card");return E(),I("div",O,[R,e($,null,{default:o(()=>[v("div",T,[e(A,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=n=>i.value=n),placeholder:"按类型筛选",clearable:"",style:{width:"140px","margin-right":"12px"}},{default:o(()=>[e(m,{label:"全部",value:""}),e(m,{label:"主机",value:"主机"}),e(m,{label:"虚拟机",value:"虚拟机"}),e(m,{label:"存储卷",value:"存储卷"})]),_:1},8,["modelValue"])]),e(C,{data:h.value,style:{width:"100%"}},{default:o(()=>[e(p,{prop:"name",label:"资源名称"}),e(p,{prop:"type",label:"类型",width:"100"}),e(p,{prop:"deletedAt",label:"删除时间",width:"170"}),e(p,{prop:"operator",label:"操作人",width:"100"}),e(p,{label:"操作",width:"180"},{default:o(n=>[e(k,null,{default:o(()=>[e(f,{size:"small",type:"primary",onClick:B=>x(n.$index+(d.value-1)*c)},{default:o(()=>[g("恢复")]),_:2},1032,["onClick"]),e(f,{size:"small",type:"danger",onClick:B=>w(n.$index+(d.value-1)*c)},{default:o(()=>[g("彻底删除")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),v("div",U,[e(V,{background:"",layout:"prev, pager, next",total:u.value.length,"page-size":c,"current-page":d.value,"onUpdate:currentPage":t[1]||(t[1]=n=>d.value=n)},null,8,["total","current-page"])])]),_:1})])}}},j=z(M,[["__scopeId","data-v-1205e217"]]);export{j as default};
