import{_ as B,r as m,g as v,c as D,a as t,w as o,b as l,d as b,p as z,e as U,o as y,f,t as E,i as P,j as R}from"./index-CXbMACjM.js";const T=s=>(z("data-v-84cd0bbe"),s=s(),U(),s),$={class:"page-container"},j=T(()=>b("div",{class:"page-title"},"消息中心",-1)),A={class:"mb-2 flex-row"},O={class:"mt-2 flex-row-end"},i=6,q={__name:"NotificationCenter",setup(s){const r=m([{time:"2024-05-10 09:00",type:"告警",content:"主机 host-01 CPU 使用率过高",status:"未读"},{time:"2024-05-10 09:05",type:"通知",content:"系统升级维护通知",status:"未读"},{time:"2024-05-10 09:10",type:"告警",content:"存储节点空间不足",status:"已读"},{time:"2024-05-10 09:15",type:"通知",content:"新功能已上线",status:"未读"},{time:"2024-05-10 09:20",type:"告警",content:"虚拟机 vm-03 网络延迟升高",status:"未读"},{time:"2024-05-10 09:25",type:"通知",content:"备份任务已完成",status:"已读"},{time:"2024-05-10 09:30",type:"告警",content:"主机 host-02 离线",status:"未读"},{time:"2024-05-10 09:35",type:"通知",content:"安全策略已更新",status:"已读"},{time:"2024-05-10 09:40",type:"告警",content:"存储节点 IO 延迟升高",status:"未读"},{time:"2024-05-10 09:45",type:"通知",content:"月度报告已生成",status:"已读"}]),c=m(""),u=m(1),d=v(()=>r.value.filter(e=>!c.value||e.type===c.value)),h=v(()=>{const e=(u.value-1)*i;return d.value.slice(e,e+i)}),w=v(()=>r.value.filter(e=>e.status==="未读").length);function x(e){d.value[e].status="已读"}function k(){r.value.forEach(e=>{e.status="已读"})}return(e,p)=>{const _=l("el-option"),C=l("el-select"),g=l("el-button"),n=l("el-table-column"),V=l("el-tag"),N=l("el-table"),I=l("el-pagination"),S=l("el-card");return y(),D("div",$,[j,t(S,null,{default:o(()=>[b("div",A,[t(C,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=a=>c.value=a),placeholder:"按类型筛选",clearable:"",style:{width:"140px","margin-right":"12px"}},{default:o(()=>[t(_,{label:"全部",value:""}),t(_,{label:"告警",value:"告警"}),t(_,{label:"通知",value:"通知"})]),_:1},8,["modelValue"]),t(g,{onClick:k,disabled:!w.value,type:"primary",plain:""},{default:o(()=>[f("全部标为已读")]),_:1},8,["disabled"])]),t(N,{data:h.value,style:{width:"100%"}},{default:o(()=>[t(n,{prop:"time",label:"时间",width:"170"}),t(n,{prop:"type",label:"类型",width:"80"}),t(n,{prop:"content",label:"内容"}),t(n,{prop:"status",label:"状态",width:"100"},{default:o(a=>[t(V,{type:a.row.status==="未读"?"danger":"info"},{default:o(()=>[f(E(a.row.status),1)]),_:2},1032,["type"])]),_:1}),t(n,{label:"操作",width:"120"},{default:o(a=>[a.row.status==="未读"?(y(),P(g,{key:0,size:"small",onClick:F=>x(a.$index+(u.value-1)*i)},{default:o(()=>[f("标为已读")]),_:2},1032,["onClick"])):R("",!0)]),_:1})]),_:1},8,["data"]),b("div",O,[t(I,{background:"",layout:"prev, pager, next",total:d.value.length,"page-size":i,"current-page":u.value,"onUpdate:currentPage":p[1]||(p[1]=a=>u.value=a)},null,8,["total","current-page"])])]),_:1})])}}},H=B(q,[["__scopeId","data-v-84cd0bbe"]]);export{H as default};
